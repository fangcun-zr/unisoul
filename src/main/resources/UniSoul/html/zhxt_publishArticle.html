<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>创作中心 - 心旅坊</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.css">
    <link rel="stylesheet" href="../css/zhxt_publishArticle.css">
</head>
<body class="writing-mode">
<!-- 顶部导航栏 -->
<nav class="navbar navbar-expand-lg navbar-glass fixed-top">
    <div class="container-fluid px-4">
        <a class="navbar-brand" href="#">
            <i class="fas fa-feather-alt"></i> 创作中心
        </a>
        <div class="navbar-text save-status">
            <i class="fas fa-check-circle"></i> 已自动保存
        </div>
        <div class="nav-actions">
            <button class="btn btn-outline-primary me-2" id="previewBtn">
                <i class="fas fa-eye"></i> 预览
            </button>
            <button class="btn btn-primary" id="publishBtn">
                <i class="fas fa-paper-plane"></i> 发布文章
            </button>
        </div>
    </div>
</nav>

<!-- 主要内容区 -->
<div class="main-container">
    <!-- 左侧工具栏 -->
    <div class="sidebar">
        <div class="tool-group">
            <button class="tool-btn" title="返回首页">
                <i class="fas fa-home"></i>
            </button>
            <button class="tool-btn" title="保存草稿">
                <i class="fas fa-save"></i>
            </button>
            <button class="tool-btn" title="撤销">
                <i class="fas fa-undo"></i>
            </button>
            <button class="tool-btn" title="重做">
                <i class="fas fa-redo"></i>
            </button>
        </div>
        <div class="tool-group">
            <button class="tool-btn" title="插入图片">
                <i class="fas fa-image"></i>
            </button>
            <button class="tool-btn" title="插入链接">
                <i class="fas fa-link"></i>
            </button>
            <button class="tool-btn" title="插入表格">
                <i class="fas fa-table"></i>
            </button>
        </div>
    </div>

    <!-- 中间编辑区 -->
    <div class="editor-container">
        <!-- 标题区 -->
        <div class="title-section">
            <input type="text" id="articleTitle" class="title-input" placeholder="请输入文章标题..." maxlength="100">
            <div class="title-counter">0/100</div>
        </div>

        <!-- 封面上传区 -->
        <div class="avatar-wrapper" id="avatarWrapper">
            <img src="../image/default-avatar.png" class="avatar" id="avatarPreview" alt="Avatar Preview">
            <div class="avatar-edit">
                <input type="file" id="avatarUpload" accept="image/*" style="display: none;">
                <label for="avatarUpload" class="avatar-label">
                    <i class="fas fa-camera"></i>
                    <span>点击更换封面</span>
                </label>
            </div>
        </div>

        <!-- 编辑器区 -->
        <div id="editor"></div>
    </div>

    <!-- 右侧设置区 -->
    <div class="settings-panel">
        <div class="panel-section">
            <h3 class="section-title">
                <i class="fas fa-tags"></i> 文章标签
            </h3>
            <div class="tag-container">
                <div class="tag-list"></div>
                <input type="text" class="tag-input" placeholder="输入标签按回车添加">
                <div class="suggested-tags">
                    <span class="tag-suggestion">心理</span>
                    <span class="tag-suggestion">成长</span>
                    <span class="tag-suggestion">情感</span>
                </div>
            </div>
        </div>

        <div class="panel-section">
            <h3 class="section-title">
                <i class="fas fa-folder"></i> 文章分类
            </h3>
            <div class="category-list">
                <div class="category-item active" data-category_id = 1>
                    <i class="fas fa-heart"></i>
                    <span>心理健康</span>
                </div>
                <div class="category-item" data-category_id = 2>
                    <i class="fas fa-comments"></i>
                    <span>情感咨询</span>
                </div>
                <div class="category-item" data-category_id = 3>
                    <i class="fas fa-seedling"></i>
                    <span>个人成长</span>
                </div>
            </div>
        </div>

        <div class="panel-section">
            <h3 class="section-title">
                <i class="fas fa-cog"></i> 文章设置
            </h3>
            <div class="settings-list">
                <div class="setting-item">
                    <span>允许评论</span>
                    <label class="switch">
                        <input type="checkbox" id="allowComment" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
                <div class="setting-item">
                    <span>原创声明</span>
                    <label class="switch">
                        <input type="checkbox" id="isOriginal" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 发布确认弹窗 -->
<div class="modal fade" id="publishModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">发布文章</h5>
                <button type="button" class="btn-close"  data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="publish-preview">
                    <div class="preview-cover">
                        <img src="" alt="封面预览">
                    </div>
                    <div class="preview-content">
                        <h3 class="preview-title"></h3>
                        <div class="preview-meta">
                            <span class="category"></span>
                            <span class="tags"></span>
                        </div>
                    </div>
                </div>
                <div class="publish-confirm">
                    确认发布这篇文章吗？发布后将立即对所有用户可见。
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-primary" id="confirmPublish">确认发布</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
<script src="../api/zhxt_articles.js"></script>
<script src="../js/zhxt_publishArticle.js"></script>
</body>
</html>